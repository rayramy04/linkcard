import config from"../config.js";import ShareManager from"./share.js";class LinkPageApp{constructor(){this.config=config}renderProfile(){const i=document.getElementById("profile");if(!i)return;const n=this.config.profile.avatar?`<img src="${this.config.profile.avatar}" alt="${this.config.profile.name}">`:"",e=Array.isArray(this.config.profile.bio)?this.config.profile.bio.map(i=>`<p>${i}</p>`).join(""):`<p>${this.config.profile.bio}</p>`;i.innerHTML=`\n      ${n}\n      <h1>${this.config.profile.name}</h1>\n      <p class="title">${this.config.profile.title}</p>\n      ${e}\n    `}renderLinks(){const i=document.getElementById("links");i&&(i.innerHTML="",this.config.links.forEach(n=>{const e=document.createElement("a");e.href=n.url,e.className="download"===n.type?"link-card link-card-download":"link-card",e.target="_blank",e.rel="noopener noreferrer","download"===n.type&&e.setAttribute("download","");const t=n.color?`style="color: ${n.color};"`:"";e.innerHTML=`\n        <div class="icon" ${t}>\n          <span class="iconify" data-icon="${n.icon}"></span>\n        </div>\n        <div class="content">\n          <div class="title">${n.name}</div>\n          ${n.description?`<div class="description">${n.description}</div>`:""}\n        </div>\n      `,i.appendChild(e)}))}init(){"loading"===document.readyState?document.addEventListener("DOMContentLoaded",()=>this.initialize()):this.initialize()}renderAbout(){const i=document.getElementById("about");if(!i||!this.config.about)return;const n=this.config.about.paragraphs.map(i=>"━━━"===i?"<hr>":`<p>${i}</p>`).join("");i.innerHTML=`\n      <h2>${this.config.about.title}</h2>\n      ${n}\n    `}initialize(){this.renderProfile(),this.renderLinks(),this.renderAbout(),this.loadIconify(),setTimeout(()=>this.initShareManager(),100)}initShareManager(){new ShareManager(this.config).init()}loadIconify(){if(!document.querySelector('script[src*="iconify"]')){const i=document.createElement("script");i.src="https://code.iconify.design/3/3.1.1/iconify.min.js",i.async=!0,document.head.appendChild(i)}}}const app=new LinkPageApp;app.init();